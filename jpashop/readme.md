# 도메인 모델 패턴
- 엔티티에 비지니스 로직을 몰아넣고 서비스에서 호출하는 방식
- 서비스 계층은 엔티티에 비지니스 로직을 위임

# 트렌젝션 스크립트 패턴
- 반대로 엔티티에선 비지니스 로직이 거의 업속 서비스에서 대부부 로직을 처리하는 패턴

---
# 변경감지와 병합(merge)
1. 준영속 엔티티?
- 영속성 컨텍스트가 더이상 관리하지 않는 엔티티
- 임의로 만들어낸 엔티티도 기존 식별자를 가지고 있으면 준영속 엔티티로 볼 수 있다.

2. 준영속 엔티티를 수정하는 2가지 방법
- 변경 감지 기능 사용
- 병합(merge) 사용

3. 병합 사용 시 주의해야할 점 
- 변경 감지 기능을 사용하면 원하는 속성만 변경이 가능하지만, 병합을 사용하면 모든 속성이 변경된다.  
병합시 값이 없으면 null로 업데이트 할 위험이 있다.(병합은 모든 필드를 교체한다.)

4. 결론
- 가급적 merge를 사용하지 않고 변경감지를 사용하는 것으로 개념을 잡으면 혹시 발생할 위험을 방지 가능

